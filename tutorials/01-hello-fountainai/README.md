# 01 – Hello FountainAI

Imagine stepping onto a small stage where code takes the spotlight. FountainAI treats every request like a play: OpenAPI “scripts” set the dialogue, Swift services work the lights, and apps deliver the final line. In this opening lesson you’ll raise the curtain with a single‑line performance that proves your toolchain is ready.

Rather than build everything from scratch, the `setup.sh` script slips you a prepared script—a minimal Swift package you can build, run, and quickly make your own.

## FountainAI In One Glance
- **Scripts** – `openapi/` holds contracts that shape personas, policies, and security cues.
- **Stage Crew** – `services/GatewayServer` and `services/PersistServer` keep the production running.
- **Scaffolding** – `Scripts/new-gui-app.sh <Name>` spins up SwiftUI targets, while `Scripts/make_app.sh <Name>` bundles a `.app`.
- **This Repo** – houses tutorials only; `setup.sh` wraps the monorepo scripts to create a tiny SwiftPM app with `main.swift` and `Package.swift`.

## Learning outcomes

By the end you will:

- Confirm that Swift and Git are show‑ready
- Summon a Hello FountainAI app from the official template
- Build, run, and personalize its greeting

## Prerequisites

Gather your tools before the curtain rises:

- **Swift 6.1+** – verify it is available:
  ```bash
  swift --version
  ```
- **Git 2.40+** – check with:
  ```bash
  git --version
  ```
- **OpenAI API key** (optional but enables AI features):
  ```bash
  export OPENAI_API_KEY="sk-..."
  ```
- Make sure the setup script can run:
  ```bash
  chmod +x setup.sh
  ```

On macOS you may need to install the Xcode command line tools with `xcode-select --install`. Linux users should install a Swift 6.1 toolchain along with required system libraries such as `clang` and `libicu`. SwiftUI features from the template currently work only on macOS, so the generated code runs as a command-line app on Linux.

With your props assembled, you're ready to bring a minimal FountainAI app to life.

## Before you begin

- Run all commands from `tutorials/01-hello-fountainai/`.
- If needed, make the setup script executable:
  ```bash
  chmod +x setup.sh
  ```

## Repository layout

- `tutorials/` – root folder containing all lessons in this series.
- `tutorials/01-hello-fountainai/` – files for this lesson.
  - `README.md` – step-by-step instructions (you're reading it now).
  - `setup.sh` – scaffolds the HelloFountainAI starter app.
  - `Package.swift` – Swift package manifest generated by `setup.sh`.
  - `main.swift` – entry point for the app, created by `setup.sh`.

## 1. Check your environment
Verify Swift is installed:

```bash
swift --version
```

Expected: Swift prints a 6.1+ version.

## 2. Scaffold the app
Run the provided setup script, which generates a local Swift package in this folder (Hello uses the `ai` profile by default to include FountainAI client libraries):

```bash
./setup.sh
```

The script writes `Package.swift` and `main.swift` for the **HelloFountainAI**
executable right here. It keeps the layout simple (single source file) so you
can focus on the build/run flow.

Expected: `main.swift` and `Package.swift` appear in this folder. Open in Xcode with:

```bash
xed .
```

### What the script does (quick)
- Inputs: app name inferred by the tutorial folder (`HelloFountainAI`).
- Actions (default): generates a minimal `Package.swift` and `main.swift` in-place.
- Outputs: creates/overwrites those two files in this folder.
- Re-running: safe; it will overwrite the files. Delete them to reset.

Advanced: `./setup.sh --upstream` (or `SETUP_MODE=upstream ./setup.sh`) uses a Swift-based scaffolder (no awk) to scaffold in the upstream monorepo, then generates a local Package.swift that depends on the upstream FountainAI package so imports like `FountainAICore`, `FountainAIAdapters`, and `LLMGatewayAPI` resolve. If the build or network is blocked, it automatically falls back to the local minimal package.

## 3. Build and run
Build the project and launch it locally:

```bash
./build.sh
./run.sh
```

When the app starts successfully, the console prints a friendly greeting:

```text
$ swift run
Building for debugging...
Build complete! (0.1s)
Hello, FountainAI!
```

## 4. Run tests
Execute the unit tests:

```bash
./test.sh
```
Expected: Tests pass (e.g., `testGreetReturnsHello`).

Tip (macOS app bundle): The upstream monorepo can bundle GUI targets with `Scripts/make_app.sh <Name>` and open `dist/<Name>.app`.
## Exercise: Customize the greeting

Try editing the generated `main.swift` to see how code changes affect the running program:

1. Open `main.swift` and find the line:
   ```swift
   print("Hello, FountainAI!")
   ```
2. Change the message to something unique, for example:
   ```swift
   print("Hello from my first FountainAI app!")
   ```
3. Rebuild and run the project:
   ```bash
   swift build
   swift run
   ```
The console now displays your custom greeting, demonstrating the edit-build-run cycle.

## Troubleshooting

If you run into problems, these tips may help:

### Swift toolchain missing
If `swift --version` or `swift build` reports `swift: command not found`, install Swift 6.1+ and ensure the `swift` binary is in your `PATH`.

### Network or Git failures
If `./setup.sh` fails to clone the template repository, verify your internet connection and that Git can reach GitHub. Retry once connectivity is restored.

### Permission denied on setup script
If the setup script isn't executable, run `chmod +x setup.sh` and try again.

## Next steps

Continue exploring FountainAI with these resources:

- [Official FountainAI documentation](https://github.com/Fountain-Coach/the-fountainai)
- [Next tutorial: 02 – Basic UI with Teatro](../02-basic-ui-teatro/README.md)
- [Deep dive: Dependency management with SwiftPM and profiles](../../docs/dependency-management-deep-dive.md)
